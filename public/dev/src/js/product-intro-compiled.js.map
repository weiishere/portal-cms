{"version":3,"sources":["product-intro.js"],"names":[],"mappings":"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","file":"product-intro-compiled.js","sourcesContent":["(function($, window, document, undefined) {\n    var pluginName = \"tabulous\", defaults = {\n        effect:\"scale\"\n    };\n    function Plugin(element, options) {\n        this.element = element;\n        this.$elem = $(this.element);\n        this.options = $.extend({}, defaults, options);\n        this._defaults = defaults;\n        this._name = pluginName;\n        this.init();\n    }\n    Plugin.prototype = {\n        init:function() {\n            var links = this.$elem.find(\"ul li a\");\n            var firstchild = this.$elem.find(\"li:first-child\").find(\"a\");\n            var lastchild = this.$elem.find(\"li:last-child\").after('<span class=\"tabulousclear\"></span>');\n            if (this.options.effect == \"scale\") tab_content = this.$elem.find(\"div\").not(\":first\").not(\":nth-child(1)\").addClass(\"hidescale\"); else if (this.options.effect == \"slideLeft\") tab_content = this.$elem.find(\"div\").not(\":first\").not(\":nth-child(1)\").addClass(\"hideleft\"); else if (this.options.effect == \"scaleUp\") tab_content = this.$elem.find(\"div\").not(\":first\").not(\":nth-child(1)\").addClass(\"hidescaleup\"); else if (this.options.effect == \"flip\") tab_content = this.$elem.find(\"div\").not(\":first\").not(\":nth-child(1)\").addClass(\"hideflip\");\n            var firstdiv = this.$elem.find(\"#product-intro-tabs-con\");\n            var firstdivheight = firstdiv.find(\"div:first\").height();\n            var alldivs = this.$elem.find(\"div:first\").find(\"div\");\n            alldivs.css({\n                // position:\"absolute\",\n                // top:\"40px\"\n            });\n            firstdiv.css(\"height\", firstdivheight + \"px\");\n            firstchild.addClass(\"tabulous_active\");\n            links.bind(\"click\", {\n                myOptions:this.options\n            }, function(e) {\n                e.preventDefault();\n                var $options = e.data.myOptions;\n                var effect = $options.effect;\n                var mythis = $(this);\n                var thisform = mythis.parent().parent().parent();\n                var thislink = mythis.attr(\"href\");\n                firstdiv.addClass(\"transition\");\n                links.removeClass(\"tabulous_active\");\n                mythis.addClass(\"tabulous_active\");\n                thisdivwidth = thisform.find(\"div\" + thislink).height();\n\n                    alldivs.removeClass(\"showscale\").addClass(\"make_transist\").addClass(\"hidescale\");\n                    thisform.find(\"div\" + thislink).addClass(\"make_transist\").addClass(\"showscale\");\n\n                firstdiv.css(\"height\", thisdivwidth + \"px\");\n            });\n        },\n        yourOtherFunction:function(el, options) {}\n    };\n    $.fn[pluginName] = function(options) {\n        return this.each(function() {\n            new Plugin(this, options);\n        });\n    };\n})(jQuery, window, document);\n\n// 懒加载操作\nvar lazyloadFun = function(imgDom){\n    var original = $(imgDom).attr(\"data-original\");\n    if(original!==\"{icon}\"){\n        //console.info(\"data-original拿到数据！\");\n        var options = {\n            // container: $(\".main\"),\n            threshold: 0,\n            effect: 'fadeIn',\n            effect_params: '400',\n            placeholder_data_img: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAAAAAA6fptVAAAACklEQVQYV2P4DwABAQEAWk1v8QAAAABJRU5ErkJggg==',\n            event: \"scroll\",\n            // load: function(){alert('图片加载完毕！')},\n            // appear: function(){alert('图片已显示在视窗中！')},\n        }\n        $(imgDom).lazyload(options);\n    };\n}\n\n\n// ajax配置\nvar getDataInfo = function() {\n    return $.ajax({\n        type: 'GET',\n        url: '/html/data/list.json',\n        dataType: 'json',\n        charset: 'UTF-8',\n    });\n}\n\n// 星星评分\nfunction starsFun(data,dom) {\n    var i, len = data.length;\n    for (i = 0; i < len; i++) {\n        var stars = data[i].stars;\n        if(stars >= 0 && stars <= 5){\n            $(\"#\"+dom).find(\".product-intro-tabs-start .starts:eq(\"+i+\") span:lt(\"+stars+\")\").addClass('yellow')\n        }\n    }\n}\n\n// 内容渲染\nfunction contentFun(data,dom) {\n    var i, len = data.length;\n    for (i = 0; i < len; i++) {\n        $('#'+dom+' section .lazy:eq('+i+')').attr('data-original',data[i].icon)\n        $('#'+dom+' section > a:eq('+i+')').attr('href',appRoot+'/detail?id='+data[i].ID)\n        $('#'+dom+' p > a:eq('+i+')').attr('href',appRoot+'/detail?id='+data[i].ID)\n        $('#'+dom+' .title:eq('+i+')').html(data[i].title)\n        $('#'+dom+' .sub_title:eq('+i+')').html(data[i].sub_title)\n    }\n}\n\n// 模板渲染\nfunction templateFun(dom,virtualDom,data){\n    var html = template(virtualDom, data);\n    document.getElementById(dom).innerHTML = html;\n}\n\n\n// 渲染封装\nfunction drawingFun(dom,virtualDom,data){\n    templateFun(dom,virtualDom,data)\n    contentFun(data,dom);\n    lazyloadFun(\".lazy\");\n    starsFun(data,dom);\n}\n\n\n// ajax请求数据\ngetDataInfo()\n    .done(function(response){\n\n        // response = JSON.parse(response);\n        //console.log(response);\n\n        drawingFun('all','virtual-all',response)\n\n        //首页初始化内容高度\n        var firstdiv = $(\"#product-intro-tabs-con\");\n        var firstdivheight = firstdiv.find('#all').height();\n        firstdiv.css(\"height\", firstdivheight + \"px\");\n\n        function classification(title) {\n            var responseClass;\n            if(title !== 'all'){\n                responseClass = $.grep(response, function(n){\n                   return (n.type == title)\n                });\n            }else {\n                responseClass = response;\n            }\n\n            drawingFun(title,'virtual-'+title,responseClass)\n\n            //内容高度\n            var firstdiv = $(\"#product-intro-tabs-con\");\n            var firstdivheight = firstdiv.find('#'+title).height();\n            firstdiv.css(\"height\", firstdivheight + \"px\");\n        }\n\n        $(\"#product-intro-tabs ul li a\").click(function(){\n            var title = $(this).attr(\"title\");\n            classification(title)\n        })\n\n        $(document).ready(function(){\n            var tab = getRequest(location.search).tab;\n            $(\".\"+tab).trigger(\"click\");\n        })\n\n        function getRequest(url) {\n           var url;\n           var theRequest = new Object();\n           if (url.indexOf(\"?\") != -1) {\n              var str = url.substr(1);\n              strs = str.split(\"&\");\n              for(var i = 0; i < strs.length; i ++) {\n                 theRequest[strs[i].split(\"=\")[0]]=unescape(strs[i].split(\"=\")[1]);\n              }\n           }\n           return theRequest;\n       }\n\n    })\n    .fail(function() {\n        //console.log(\"数据加载失败\");\n    });\n"]}