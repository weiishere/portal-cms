{"version":3,"sources":["counsel.js"],"names":[],"mappings":"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","file":"counsel-compiled.js","sourcesContent":["function check_submit() {\n  var company_name = $(\"#company_name\").val();\n  var user_name = $(\"#user_name\").val();\n  var phone_number = $(\"#phone_number\").val();\n  var problem_description = $(\"#problem_description\").val();\n\n  var error = $(\".error\");\n\n  //验证手机号码\n  function isMobile() {\n    var regCompanyName = /^[\\u4E00-\\u9FA5A-Za-z0-9_]+$/;\n    var regUserName = /^[\\u4E00-\\u9FA5A-Za-z_]+$/;\n    var regMobile = /^((\\+?[0-9]{1,4})|(\\(\\+86\\)))?(13[0-9]|14[57]|15[012356789]|17[0678]|18[0-9])\\d{8}$/;\n    var regDescription = $(\"#problem_description\").val().length;\n\n    if (!regCompanyName.test(company_name)) {\n      error.text(\"请输入有效公司，方便与您进一步沟通！\").height(28);\n    } else if (!regUserName.test(user_name)) {\n      error.text(\"请输入有效姓名，方便与您进一步沟通！\").height(28);\n    } else if (!regMobile.test(phone_number)) {\n      error.text(\"手机号码格式不正确！\").height(28);\n    } else if (regDescription < 10) {\n      error.text(\"请尽量详细描述您的问题！\").height(28);\n    } else {\n      var poat_data = {\n        \"companyName\": company_name,\n        \"userName\": user_name,\n        \"phoneNo\": phone_number,\n        \"problemDesc\": problem_description\n      }\n      /* *************************************\n       companyName\t公司名称\tString\t 是\n       phoneNo\t    手机号\t     String\t  是\n       problemDesc\t问题描述\tString\t 是\n       userName\t用户名\t     String\t  是\n       ************************************* */\n      poat_data = JSON.stringify(poat_data);\n      console.log('提交的数据：', poat_data);\n      postdata(poat_data);//检测完毕请求数据\n    }\n  }\n\n  if (company_name === \"\") {\n    error.text(\"请填写您的公司名称！\").height(28);\n  } else if (user_name === \"\") {\n    error.text(\"请填写您的姓名！\").height(28);\n  } else if (phone_number === \"\") {\n    error.text(\"请填写您的手机号码！\").height(28);\n  } else if (problem_description === \"\") {\n    error.text(\"请填写您需咨询的问题！\").height(28);\n  } else if (company_name != \"\" || user_name == \"\" || phone_number != \"\" || problem_description != \"\") {\n    error.text(\"\")\n    isMobile()\n  }\n\n}\n\n// Ajax请求\nvar getDataInfo = function (data) {\n  return $.ajax({\n    type: 'POST',\n    url: appRoot + '/applyEmail',\n    dataType: 'json',\n    contentType: 'application/json',\n    charset: 'UTF-8',\n    async: true,\n    data: data,\n    timeout: 6000,\n    beforeSend: function () {\n      $(\".counsel-form-con\").addClass(\"hide\")\n      $(\".counsel-loading\").removeClass(\"hide\")\n    }\n  });\n}\n\n// 返回数据处理\nfunction postdata(poat_data) {\n  getDataInfo(poat_data)\n    .done(function (response) {\n      response = response.applyEmail;\n      //console.log(response);\n      if (response.code === \"00000\") {\n        setTimeout(function () {\n          $(\".counsel-loading\").addClass(\"hide\")\n          $(\".counsel-success\").removeClass(\"hide\")\n          $(\".closebt-success\").click(function () {\n            $(\".counsel-form-con\").removeClass(\"hide\")\n            $(\".counsel-success\").addClass(\"hide\")\n          })\n          $(\"#company_name\").val('');\n          $(\"#user_name\").val('');\n          $(\"#phone_number\").val('');\n          $(\"#problem_description\").val('');\n        }, 1000)\n        //埋点\n        MtaH5.clickStat('contactCommitSuccess');\n      }\n      return false;//防止刷新页面\n    })\n    .fail(function () {\n      console.log(\"数据提交失败\");\n    });\n}\n\n$(document).ready(function () {\n  $(\"#submit\").click(function () {\n    check_submit();\n    return false;//防止刷新页面\n  });\n});\n\n//弹出层\n(function cover(container, cover, close, click) {\n  $(document).ready(function () {\n    $(container).center();//初始化位置\n  })\n  $(document.body).on('click', click, function (e) {\n    e.preventDefault();//阻止冒泡的说\n    $(window).trigger('counselInit');//初始化位置\n    $(cover).show();\n    $(container).fadeIn();\n\n    //埋点\n    MtaH5.clickStat('contact');\n  })\n  $(document.body).on('click', close, function () {\n    $(container).hide();\n    $(cover).fadeOut();\n  });\n\n  // $(document.body).on('click', cover, function(){\n  //     $(container).hide();\n  //     $(cover).fadeOut();\n  // });\n\n  jQuery.fn.center = function (loaded) {\n    var obj = this;\n    body_width = parseInt($(window).width());\n    body_height = parseInt($(window).height());\n    block_width = parseInt(obj.width());\n    block_height = parseInt(obj.height());\n\n    left_position = parseInt((body_width / 2) - (block_width / 2) + $(window).scrollLeft());\n    if (body_width < block_width) {\n      left_position = 0 + $(window).scrollLeft();\n    }\n    ;\n\n    top_position = parseInt((body_height / 2) - (block_height / 2) + $(window).scrollTop());\n    if (body_height < block_height) {\n      top_position = 0 + $(window).scrollTop();\n    }\n    ;\n\n    if (!loaded) {\n\n      obj.css({\n        'position': 'absolute'\n      });\n      obj.css({\n        'top': ($(window).height() - $(click).height()) * 0.5,\n        'left': left_position\n      });\n      $(window).bind('resize', function () {\n        obj.center(!loaded);\n      });\n      $(window).bind('scroll', function () {\n        obj.center(!loaded);\n      });\n      $(window).bind('counselInit', function () {\n        obj.center(!loaded);\n      });\n\n    } else {\n      obj.stop();\n      obj.css({\n        'position': 'absolute'\n      });\n      //视窗发生变化，弹层动态更新位置\n      obj.animate({\n        'top': top_position,\n        'left': left_position\n      }, 100, 'linear');\n    }\n  }\n\n})(\".counsel-container\", \".counsel-cover\", \".closebt\", \".consultation\");\n\n$(window).scroll(function () {\n  var scrollY = $(this).scrollTop();\n  if (scrollY >= 390) {\n    $('.header').addClass('fixed');\n  }\n  else {\n    $('.header').removeClass('fixed');\n  }\n});\n\n//返回顶部\nvar returntop = $('.returntop');\nreturntop && returntop.on('click', function (e) {\n  e.preventDefault();\n  $('body,html').animate({scrollTop: 0}, 1000);\n  return false;\n});\n\n/* @Add by lizhiyang1\n * @Desc 登录逻辑处理\n */\n$(function () {\n\n  var Login = function () {\n    this.expireMinutes = 30; //登录过期时间\n  }\n\n  Login.prototype = {\n    constructor: Login,\n    init: function () {\n      var auth = this.getUrlParam('auth');\n      var loginName = this.getUrlParam('loginName');\n      if (auth !== '' && loginName !== '') {\n        var date = new Date();\n        var expireMinutes = this.expireMinutes;\n        date.setTime(date.getTime() + expireMinutes * 60 * 1000);\n        document.cookie = 'auth=' + auth + ';path=/;expires=' + date.toGMTString();\n        document.cookie = 'loginName=' + loginName + ';path=/;expires=' + date.toGMTString();\n        //重定向\n        location.href = location.href.split('?')[0];\n      }\n      this.attachEvent();\n      this.addActiveMark();\n    },\n    attachEvent: function () {\n      var _this = this;\n      $(document.body).on('click', '#login', function (e) {\n          if (e && e.preventDefault) {\n            e.preventDefault();\n          }\n          else {\n            window.event.returnValue = false;\n            return false\n          }\n          MtaH5.clickStat('loginBtnClick');//埋点\n          location.href = $(this).attr('href') + '?redirect=' + encodeURIComponent(location.href);\n        }\n      )\n      $(document.body).on('click', '#register', function (e) {\n        MtaH5.clickStat('regBtnClick');//埋点\n        location.href = $(this).attr('href') + '?redirect=' + encodeURIComponent(location.href);\n      })\n      $(document.body).on('click', '#abs', function (e) {\n        MtaH5.clickStat('absBtnClick');//埋点\n      })\n      $(document.body).on('click', '#logout', function (e) {\n        if (e && e.preventDefault) {\n          e.preventDefault();\n        }\n        else {\n          window.event.returnValue = false;\n          return false\n        }\n        MtaH5.clickStat('logoutBtnClick');//埋点\n      \t$.ajax({\n            type: 'POST',\n            dataType: \"json\",\n            contentType: \"application/json\",\n            url: appRoot + '/logout',\n            data: {},\n            success: function (response) {\n            response = response.logout;\n              if (response.resultCode == '0') {\n                var date = new Date();\n                date.setTime(date.getTime() - 10000);\n                document.cookie = 'auth= ;path=/;expires=' + date.toGMTString();\n                document.cookie = 'loginName= ;path=/;expires=' + date.toGMTString();\n                window.location.reload();\n              }\n            }\n          })\n      })\n    },\n    addActiveMark: function(){\n      $('.nav>ul>li>a').each(function(){\n        var href = $(this).attr('href');\n        if(location.href.indexOf(href) > -1){\n          $(this).parent('li').addClass('active');\n        }\n        if(location.href.indexOf('solution') > -1){\n          $('.dropdown').addClass('active');\n        }\n        if(location.href.indexOf('detail') > -1){\n          $('.product-intro').addClass('active');\n        }\n      })\n    },\n    getUrlParam: function (paramName) {\n      var paramValue = '';\n      var isFound = false;\n      if (document.location.search.indexOf('?') == 0 && document.location.search.indexOf('=') > 1) {\n        arrSource = unescape(document.location.search).substring(1, document.location.search.length).split('&');\n        i = 0;\n        while (i < arrSource.length && !isFound) {\n          if (arrSource[i].indexOf('=') > 0) {\n            if (arrSource[i].split('=')[0].toLowerCase() == paramName.toLowerCase()) {\n              paramValue = arrSource[i].split('=')[1];\n              isFound = true;\n            }\n          }\n          i++;\n        }\n      }\n      return paramValue;\n    }\n  }\n  var login = new Login();\n  login.init();\n})"]}